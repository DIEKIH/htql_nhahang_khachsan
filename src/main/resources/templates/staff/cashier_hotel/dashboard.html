<!--<!DOCTYPE html>-->
<!--<html lang="vi" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Dashboard - Lễ tân</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body { background: #f8f9fa; }-->
<!--        .layout-container { display: flex; min-height: 100vh; }-->

<!--        .sidebar {-->
<!--            /*background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);*/-->
<!--            background: linear-gradient(180deg, #212529 0%, #1a1e21 100%);-->

<!--            width: 280px;-->
<!--            min-width: 280px;-->
<!--            color: white;-->
<!--            padding: 20px;-->
<!--        }-->

<!--        .sidebar .nav-link {-->
<!--            color: rgba(255,255,255,0.9);-->
<!--            padding: 10px 15px;-->
<!--            border-radius: 8px;-->
<!--            margin: 3px 0;-->
<!--            transition: all 0.3s;-->
<!--        }-->

<!--        .sidebar .nav-link:hover,-->
<!--        .sidebar .nav-link.active {-->
<!--            background: rgba(255,255,255,0.2);-->
<!--            color: white;-->
<!--        }-->

<!--        .main-content { flex: 1; padding: 20px; }-->

<!--        .welcome-card {-->
<!--            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);-->
<!--            color: white;-->
<!--            border-radius: 15px;-->
<!--            padding: 30px;-->
<!--            margin-bottom: 30px;-->
<!--        }-->

<!--        .stat-card {-->
<!--            background: white;-->
<!--            border-radius: 12px;-->
<!--            padding: 25px;-->
<!--            box-shadow: 0 2px 10px rgba(0,0,0,0.08);-->
<!--            transition: transform 0.3s;-->
<!--            text-align: center;-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        .stat-card:hover {-->
<!--            transform: translateY(-5px);-->
<!--            box-shadow: 0 5px 20px rgba(0,0,0,0.15);-->
<!--        }-->

<!--        .stat-icon {-->
<!--            font-size: 3rem;-->
<!--            margin-bottom: 15px;-->
<!--        }-->

<!--        .stat-number {-->
<!--            font-size: 2.5rem;-->
<!--            font-weight: bold;-->
<!--            margin-bottom: 10px;-->
<!--        }-->

<!--        .quick-action-card {-->
<!--            background: white;-->
<!--            border-radius: 12px;-->
<!--            padding: 20px;-->
<!--            box-shadow: 0 2px 10px rgba(0,0,0,0.08);-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        .action-btn {-->
<!--            padding: 15px;-->
<!--            border-radius: 10px;-->
<!--            text-align: center;-->
<!--            transition: all 0.3s;-->
<!--            cursor: pointer;-->
<!--            margin-bottom: 15px;-->
<!--            border: 2px solid #e9ecef;-->
<!--        }-->

<!--        .action-btn:hover {-->
<!--            transform: translateY(-3px);-->
<!--            box-shadow: 0 5px 15px rgba(0,0,0,0.15);-->
<!--            border-color: #667eea;-->
<!--        }-->

<!--        .recent-list {-->
<!--            background: white;-->
<!--            border-radius: 12px;-->
<!--            padding: 20px;-->
<!--            box-shadow: 0 2px 10px rgba(0,0,0,0.08);-->
<!--        }-->

<!--        .list-item {-->
<!--            padding: 15px;-->
<!--            border-bottom: 1px solid #e9ecef;-->
<!--            transition: background 0.2s;-->
<!--        }-->

<!--        .list-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->

<!--        .list-item:hover {-->
<!--            background: #f8f9fa;-->
<!--        }-->

<!--        .empty-state {-->
<!--            text-align: center;-->
<!--            padding: 40px 20px;-->
<!--            color: #6c757d;-->
<!--        }-->

<!--        .empty-state i {-->
<!--            font-size: 3rem;-->
<!--            margin-bottom: 15px;-->
<!--            opacity: 0.5;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="layout-container">-->
<!--    &lt;!&ndash; Sidebar &ndash;&gt;-->
<!--    <div class="sidebar">-->
<!--        <div class="text-center mb-4">-->
<!--            <i class="bi bi-building fs-1"></i>-->
<!--            <h5 class="mt-2 mb-0">Lễ Tân</h5>-->
<!--            <small class="opacity-75">Hệ thống quản lý</small>-->
<!--        </div>-->

<!--        <nav class="nav flex-column">-->
<!--            <a class="nav-link active" href="/cashier-hotel/dashboard">-->
<!--                <i class="bi bi-speedometer2 me-2"></i>Dashboard-->
<!--            </a>-->
<!--            <a class="nav-link" href="/cashier-hotel/booking-management">-->
<!--                <i class="bi bi-calendar-check me-2"></i>Quản lý Booking-->
<!--            </a>-->
<!--            <a class="nav-link" href="/cashier-hotel/walkin-booking">-->
<!--                <i class="bi bi-person-plus me-2"></i>Đặt phòng tại quầy-->
<!--            </a>-->
<!--            <a class="nav-link" href="/cashier-hotel/room-status">-->
<!--                <i class="bi bi-house-gear me-2"></i>Trạng thái phòng-->
<!--            </a>-->
<!--        </nav>-->

<!--        <div class="mt-auto pt-4 border-top border-light border-opacity-25">-->
<!--            <div class="d-flex align-items-center mb-3">-->
<!--                <i class="bi bi-person-circle fs-4 me-2"></i>-->
<!--                <div>-->
<!--                    <div class="fw-bold small">Nhân viên lễ tân</div>-->
<!--                    <small class="opacity-75">Đang trực</small>-->
<!--                </div>-->
<!--            </div>-->
<!--            <a href="/cashier-hotel/logout" class="btn btn-outline-light btn-sm w-100">-->
<!--                <i class="bi bi-box-arrow-right me-2"></i>Đăng xuất-->
<!--            </a>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Main Content &ndash;&gt;-->
<!--    <div class="main-content">-->
<!--        &lt;!&ndash; Welcome Card &ndash;&gt;-->
<!--        <div class="welcome-card">-->
<!--            <div class="row align-items-center">-->
<!--                <div class="col-md-8">-->
<!--                    <h2 class="mb-2">Chào mừng đến với hệ thống Lễ Tân!</h2>-->
<!--                    <p class="mb-0 opacity-75">Quản lý booking, check-in/out và dịch vụ khách hàng</p>-->
<!--                </div>-->
<!--                <div class="col-md-4 text-end">-->
<!--                    <div class="fs-4 fw-bold" id="currentTime"></div>-->
<!--                    <div class="opacity-75" id="currentDate"></div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Statistics &ndash;&gt;-->
<!--        <div class="row">-->
<!--            <div class="col-md-3">-->
<!--                <div class="stat-card">-->
<!--                    <div class="stat-icon text-success">-->
<!--                        <i class="bi bi-door-open"></i>-->
<!--                    </div>-->
<!--                    <div class="stat-number text-success" th:text="${stats?.checkInToday ?: 0}">0</div>-->
<!--                    <div class="text-muted">Check-in hôm nay</div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="col-md-3">-->
<!--                <div class="stat-card">-->
<!--                    <div class="stat-icon text-warning">-->
<!--                        <i class="bi bi-door-closed"></i>-->
<!--                    </div>-->
<!--                    <div class="stat-number text-warning" th:text="${stats?.checkOutToday ?: 0}">0</div>-->
<!--                    <div class="text-muted">Check-out hôm nay</div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="col-md-3">-->
<!--                <div class="stat-card">-->
<!--                    <div class="stat-icon text-danger">-->
<!--                        <i class="bi bi-house-check"></i>-->
<!--                    </div>-->
<!--                    <div class="stat-number text-danger" th:text="${stats?.occupied ?: 0}">0</div>-->
<!--                    <div class="text-muted">Phòng đang sử dụng</div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="col-md-3">-->
<!--                <div class="stat-card">-->
<!--                    <div class="stat-icon text-primary">-->
<!--                        <i class="bi bi-house"></i>-->
<!--                    </div>-->
<!--                    <div class="stat-number text-primary" th:text="${stats?.available ?: 0}">0</div>-->
<!--                    <div class="text-muted">Phòng trống</div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Quick Actions &ndash;&gt;-->
<!--        <div class="row">-->
<!--            <div class="col-md-8">-->
<!--                <div class="quick-action-card">-->
<!--                    <h5 class="mb-4"><i class="bi bi-lightning-fill text-warning me-2"></i>Thao tác nhanh</h5>-->
<!--                    <div class="row">-->
<!--                        <div class="col-md-4">-->
<!--                            <a href="/cashier-hotel/walkin-booking" class="action-btn text-decoration-none">-->
<!--                                <div class="text-success fs-2 mb-2">-->
<!--                                    <i class="bi bi-person-plus-fill"></i>-->
<!--                                </div>-->
<!--                                <div class="fw-bold">Đặt phòng tại quầy</div>-->
<!--                                <small class="text-muted">Tạo booking mới nhanh</small>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                        <div class="col-md-4">-->
<!--                            <a href="/cashier-hotel/booking-management" class="action-btn text-decoration-none">-->
<!--                                <div class="text-info fs-2 mb-2">-->
<!--                                    <i class="bi bi-calendar-check-fill"></i>-->
<!--                                </div>-->
<!--                                <div class="fw-bold">Quản lý Booking</div>-->
<!--                                <small class="text-muted">Xem tất cả booking</small>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                        <div class="col-md-4">-->
<!--                            <a href="/cashier-hotel/room-status" class="action-btn text-decoration-none">-->
<!--                                <div class="text-primary fs-2 mb-2">-->
<!--                                    <i class="bi bi-house-gear-fill"></i>-->
<!--                                </div>-->
<!--                                <div class="fw-bold">Trạng thái phòng</div>-->
<!--                                <small class="text-muted">Xem phòng realtime</small>-->
<!--                            </a>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->

<!--                &lt;!&ndash; Today's Check-ins &ndash;&gt;-->
<!--                <div class="recent-list">-->
<!--                    <h5 class="mb-3">-->
<!--                        <i class="bi bi-door-open text-success me-2"></i>Check-in hôm nay-->
<!--                        <span class="badge bg-success ms-2" th:text="${#lists.size(todayCheckIns)}">0</span>-->
<!--                    </h5>-->

<!--                    <div th:if="${#lists.isEmpty(todayCheckIns)}" class="empty-state">-->
<!--                        <i class="bi bi-calendar-x"></i>-->
<!--                        <p class="mb-0">Không có check-in nào hôm nay</p>-->
<!--                    </div>-->

<!--                    <div th:each="booking : ${todayCheckIns}" class="list-item">-->
<!--                        <div class="d-flex justify-content-between align-items-center">-->
<!--                            <div>-->
<!--                                <div class="fw-bold" th:text="${booking.guestName}">Nguyễn Văn A</div>-->
<!--                                <small class="text-muted">-->
<!--                                    <i class="bi bi-bookmark me-1"></i>-->
<!--                                    <span th:text="${booking.bookingCode}">BK2024001</span>-->
<!--                                    <i class="bi bi-door-open ms-2 me-1"></i>-->
<!--                                    <span th:text="${booking.roomNumber ?: 'Chưa gán'}">Phòng 101</span>-->
<!--                                </small>-->
<!--                            </div>-->
<!--                            <div class="text-end">-->
<!--                                <span th:if="${booking.status.name() == 'CHECKED_IN'}" class="badge bg-success">Đã check-in</span>-->
<!--                                <span th:if="${booking.status.name() == 'CONFIRMED'}" class="badge bg-info">Đã xác nhận</span>-->
<!--                                <span th:if="${booking.status.name() == 'PENDING'}" class="badge bg-warning">Chờ xác nhận</span>-->
<!--                                <div class="small text-muted mt-1" th:text="${#temporals.format(booking.checkInDate, 'dd/MM/yyyy')}">Hôm nay</div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div th:if="${!#lists.isEmpty(todayCheckIns)}" class="text-center mt-3">-->
<!--                        <a href="/cashier-hotel/booking-management" class="btn btn-outline-primary">-->
<!--                            Xem tất cả <i class="bi bi-arrow-right ms-2"></i>-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Right Column &ndash;&gt;-->
<!--            <div class="col-md-4">-->
<!--                &lt;!&ndash; Today's Check-outs &ndash;&gt;-->
<!--                <div class="recent-list mb-4">-->
<!--                    <h5 class="mb-3">-->
<!--                        <i class="bi bi-door-closed text-warning me-2"></i>Check-out hôm nay-->
<!--                        <span class="badge bg-warning ms-2" th:text="${#lists.size(todayCheckOuts)}">0</span>-->
<!--                    </h5>-->

<!--                    <div th:if="${#lists.isEmpty(todayCheckOuts)}" class="empty-state">-->
<!--                        <i class="bi bi-calendar-x"></i>-->
<!--                        <p class="mb-0">Không có check-out nào hôm nay</p>-->
<!--                    </div>-->

<!--                    <div th:each="booking : ${todayCheckOuts}" class="list-item">-->
<!--                        <div class="fw-bold" th:text="${booking.guestName}">Phạm Văn D</div>-->
<!--                        <small class="text-muted d-block" th:text="${booking.roomNumber}">Phòng 302</small>-->
<!--                        <div class="mt-2">-->
<!--                            <span class="badge bg-warning text-dark" th:text="${#temporals.format(booking.checkOutDate, 'dd/MM/yyyy')}">Hôm nay</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->

<!--                &lt;!&ndash; Quick Stats &ndash;&gt;-->
<!--                <div class="recent-list mb-4">-->
<!--                    <h5 class="mb-3">-->
<!--                        <i class="bi bi-graph-up text-info me-2"></i>Thống kê nhanh-->
<!--                    </h5>-->

<!--                    <div class="d-flex justify-content-between mb-3 pb-3 border-bottom">-->
<!--                        <span class="text-muted">Tổng booking tháng này:</span>-->
<!--                        <strong class="text-primary" th:text="${monthlyBookingsCount ?: 0}">0</strong>-->
<!--                    </div>-->

<!--                    <div class="d-flex justify-content-between mb-3 pb-3 border-bottom">-->
<!--                        <span class="text-muted">Tỷ lệ lấp đầy:</span>-->
<!--                        <strong class="text-success">-->
<!--                            <span th:text="${occupancyRate ?: 0}">0</span>%-->
<!--                        </strong>-->
<!--                    </div>-->

<!--                    <div class="d-flex justify-content-between">-->
<!--                        <span class="text-muted">Doanh thu hôm nay:</span>-->
<!--                        <strong class="text-danger">-->
<!--                            <span th:text="${#numbers.formatDecimal((todayRevenue != null ? todayRevenue : 0), 0, 'COMMA', 0, 'POINT')}">0</span>đ-->
<!--                        </strong>-->

<!--                    </div>-->
<!--                </div>-->

<!--                &lt;!&ndash; Notifications &ndash;&gt;-->
<!--                <div class="recent-list">-->
<!--                    <h5 class="mb-3">-->
<!--                        <i class="bi bi-bell text-danger me-2"></i>Thông báo-->
<!--                    </h5>-->

<!--                    <div th:if="${unpaidDepositsCount > 0}" class="alert alert-warning mb-2">-->
<!--                        <small>-->
<!--                            <i class="bi bi-exclamation-triangle me-2"></i>-->
<!--                            Có <strong th:text="${unpaidDepositsCount}">0</strong> booking chưa thu cọc-->
<!--                        </small>-->
<!--                    </div>-->

<!--                    <div th:if="${roomsCleaningCount > 0}" class="alert alert-info mb-2">-->
<!--                        <small>-->
<!--                            <i class="bi bi-info-circle me-2"></i>-->
<!--                            <strong th:text="${roomsCleaningCount}">0</strong> phòng cần dọn dẹp-->
<!--                        </small>-->
<!--                    </div>-->

<!--                    <div th:if="${unpaidDepositsCount == 0 && roomsCleaningCount == 0}" class="alert alert-success mb-0">-->
<!--                        <small>-->
<!--                            <i class="bi bi-check-circle me-2"></i>-->
<!--                            Không có thông báo mới-->
<!--                        </small>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script>-->
<!--    // Update current time-->
<!--    function updateTime() {-->
<!--        const now = new Date();-->
<!--        const timeString = now.toLocaleTimeString('vi-VN', {-->
<!--            hour: '2-digit',-->
<!--            minute: '2-digit',-->
<!--            second: '2-digit'-->
<!--        });-->
<!--        document.getElementById('currentTime').textContent = timeString;-->
<!--    }-->

<!--    setInterval(updateTime, 1000);-->
<!--    updateTime();-->

<!--    // Auto refresh every 60 seconds-->
<!--    setInterval(() => {-->
<!--        console.log('Auto refreshing dashboard...');-->
<!--        window.location.reload();-->
<!--    }, 60000);-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Lễ tân</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/cashier_sidebar.css}">
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div th:replace="fragments/cashier_sidebar :: cashier_sidebar"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Card -->
            <div class="welcome-card">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h2 class="mb-2">Chào mừng đến với hệ thống Lễ Tân!</h2>
                        <p class="mb-0 opacity-75">Quản lý booking, check-in/out và dịch vụ khách hàng</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <div class="fs-5 fw-bold" id="currentTime"></div>
                        <div class="opacity-75" id="currentDate"></div>
                    </div>
                </div>
            </div>

            <!-- Statistics -->
            <div class="row">
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stat-icon text-success">
                            <i class="bi bi-door-open"></i>
                        </div>
                        <div class="stat-number text-success" th:text="${stats?.checkInToday ?: 0}">0</div>
                        <div class="text-muted">Check-in hôm nay</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stat-icon text-warning">
                            <i class="bi bi-door-closed"></i>
                        </div>
                        <div class="stat-number text-warning" th:text="${stats?.checkOutToday ?: 0}">0</div>
                        <div class="text-muted">Check-out hôm nay</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stat-icon text-danger">
                            <i class="bi bi-house-check"></i>
                        </div>
                        <div class="stat-number text-danger" th:text="${stats?.occupied ?: 0}">0</div>
                        <div class="text-muted">Phòng đang sử dụng</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stat-icon text-primary">
                            <i class="bi bi-house"></i>
                        </div>
                        <div class="stat-number text-primary" th:text="${stats?.available ?: 0}">0</div>
                        <div class="text-muted">Phòng trống</div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="row">
                <div class="col-md-8">
                    <div class="quick-action-card">
                        <h5 class="mb-3"><i class="bi bi-lightning-fill text-warning me-2"></i>Thao tác nhanh</h5>
                        <div class="row">
                            <div class="col-md-4">
                                <a href="/cashier-hotel/walkin-booking" class="action-btn btn btn-outline-success w-100 mb-2 text-decoration-none">
                                    <div class="fs-2 mb-2">
                                        <i class="bi bi-person-plus-fill"></i>
                                    </div>
                                    <div class="fw-bold">Đặt phòng tại quầy</div>
                                    <small class="text-muted">Tạo booking mới nhanh</small>
                                </a>
                            </div>
                            <div class="col-md-4">
                                <a href="/cashier-hotel/booking-management" class="action-btn btn btn-outline-info w-100 mb-2 text-decoration-none">
                                    <div class="fs-2 mb-2">
                                        <i class="bi bi-calendar-check-fill"></i>
                                    </div>
                                    <div class="fw-bold">Quản lý Booking</div>
                                    <small class="text-muted">Xem tất cả booking</small>
                                </a>
                            </div>
                            <div class="col-md-4">
                                <a href="/cashier-hotel/room-status" class="action-btn btn btn-outline-primary w-100 mb-2 text-decoration-none">
                                    <div class="fs-2 mb-2">
                                        <i class="bi bi-house-gear-fill"></i>
                                    </div>
                                    <div class="fw-bold">Trạng thái phòng</div>
                                    <small class="text-muted">Xem phòng realtime</small>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Today's Check-ins -->
                    <div class="recent-list">
                        <h5 class="mb-3">
                            <i class="bi bi-door-open text-success me-2"></i>Check-in hôm nay
                            <span class="badge bg-success ms-2" th:text="${#lists.size(todayCheckIns)}">0</span>
                        </h5>

                        <div th:if="${#lists.isEmpty(todayCheckIns)}" class="empty-state">
                            <i class="bi bi-calendar-x"></i>
                            <p class="mb-0">Không có check-in nào hôm nay</p>
                        </div>

                        <div th:each="booking : ${todayCheckIns}" class="list-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <div class="fw-bold" th:text="${booking.guestName}">Nguyễn Văn A</div>
                                    <small class="text-muted">
                                        <i class="bi bi-bookmark me-1"></i>
                                        <span th:text="${booking.bookingCode}">BK2024001</span>
                                        <i class="bi bi-door-open ms-2 me-1"></i>
                                        <span th:text="${booking.roomNumber ?: 'Chưa gán'}">Phòng 101</span>
                                    </small>
                                </div>
                                <div class="text-end">
                                    <span th:if="${booking.status.name() == 'CHECKED_IN'}" class="badge bg-success">Đã check-in</span>
                                    <span th:if="${booking.status.name() == 'CONFIRMED'}" class="badge bg-info">Đã xác nhận</span>
                                    <span th:if="${booking.status.name() == 'PENDING'}" class="badge bg-warning">Chờ xác nhận</span>
                                    <div class="small text-muted mt-1" th:text="${#temporals.format(booking.checkInDate, 'dd/MM/yyyy')}">Hôm nay</div>
                                </div>
                            </div>
                        </div>

                        <div th:if="${!#lists.isEmpty(todayCheckIns)}" class="text-center mt-3">
                            <a href="/cashier-hotel/booking-management" class="btn btn-outline-primary btn-sm">
                                Xem tất cả <i class="bi bi-arrow-right ms-2"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="col-md-4">
                    <!-- Today's Check-outs -->
                    <div class="recent-list mb-3">
                        <h5 class="mb-3">
                            <i class="bi bi-door-closed text-warning me-2"></i>Check-out hôm nay
                            <span class="badge bg-warning ms-2" th:text="${#lists.size(todayCheckOuts)}">0</span>
                        </h5>

                        <div th:if="${#lists.isEmpty(todayCheckOuts)}" class="empty-state">
                            <i class="bi bi-calendar-x"></i>
                            <p class="mb-0">Không có check-out nào hôm nay</p>
                        </div>

                        <div th:each="booking : ${todayCheckOuts}" class="list-item">
                            <div class="fw-bold" th:text="${booking.guestName}">Phạm Văn D</div>
                            <small class="text-muted d-block" th:text="${booking.roomNumber}">Phòng 302</small>
                            <div class="mt-2">
                                <span class="badge bg-warning text-dark" th:text="${#temporals.format(booking.checkOutDate, 'dd/MM/yyyy')}">Hôm nay</span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="recent-list mb-3">
                        <h5 class="mb-3">
                            <i class="bi bi-graph-up text-info me-2"></i>Thống kê nhanh
                        </h5>

                        <div class="d-flex justify-content-between mb-2 pb-2 border-bottom">
                            <span>Tổng booking tháng này:</span>
                            <strong class="text-primary" th:text="${monthlyBookingsCount ?: 0}">0</strong>
                        </div>

                        <div class="d-flex justify-content-between mb-2 pb-2 border-bottom">
                            <span>Tỷ lệ lấp đầy:</span>
                            <strong class="text-success">
                                <span th:text="${occupancyRate ?: 0}">0</span>%
                            </strong>
                        </div>

                        <div class="d-flex justify-content-between">
                            <span>Doanh thu hôm nay:</span>
                            <strong class="text-danger">
                                <span th:text="${#numbers.formatDecimal((todayRevenue != null ? todayRevenue : 0), 0, 'COMMA', 0, 'POINT')}">0</span>đ
                            </strong>
                        </div>
                    </div>

                    <!-- Notifications -->
                    <div class="recent-list">
                        <h5 class="mb-3">
                            <i class="bi bi-bell text-danger me-2"></i>Thông báo
                        </h5>

                        <div th:if="${unpaidDepositsCount > 0}" class="alert alert-warning mb-2">
                            <small>
                                <i class="bi bi-exclamation-triangle me-2"></i>
                                Có <strong th:text="${unpaidDepositsCount}">0</strong> booking chưa thu cọc
                            </small>
                        </div>

                        <div th:if="${roomsCleaningCount > 0}" class="alert alert-info mb-2">
                            <small>
                                <i class="bi bi-info-circle me-2"></i>
                                <strong th:text="${roomsCleaningCount}">0</strong> phòng cần dọn dẹp
                            </small>
                        </div>

                        <div th:if="${unpaidDepositsCount == 0 && roomsCleaningCount == 0}" class="alert alert-success mb-0">
                            <small>
                                <i class="bi bi-check-circle me-2"></i>
                                Không có thông báo mới
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Update current time
    function updateTime() {
        const now = new Date();
        const timeString = now.toLocaleTimeString('vi-VN', {
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });
        document.getElementById('currentTime').textContent = timeString;
    }

    setInterval(updateTime, 1000);
    updateTime();

    // Auto refresh every 60 seconds
    setInterval(() => {
        console.log('Auto refreshing dashboard...');
        window.location.reload();
    }, 60000);
</script>
</body>
</html>
