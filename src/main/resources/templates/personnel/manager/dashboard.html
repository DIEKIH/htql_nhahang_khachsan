<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager Dashboard - Hotel & Restaurant</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar {
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .nav-link:hover {
            background-color: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        .nav-link.active {
            background-color: rgba(255,255,255,0.2);
            border-radius: 8px;
        }
        .card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .stats-card-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }
        .stats-card-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .stats-card-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        .main-content {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-3 col-lg-2 d-md-block sidebar bg-primary p-0">
            <div class="position-sticky pt-3">
                <div class="text-center pb-3 border-bottom border-light border-opacity-25">
                    <i class="fas fa-hotel fs-2 text-white mb-2"></i>
                    <h5 class="text-white fw-bold">Manager Panel</h5>
                    <small class="text-white-50" th:text="'Xin chào, ' + ${user.fullName}">Xin chào Manager</small>
                </div>

                <ul class="nav flex-column px-3 py-2">
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white active" href="#dashboard" data-section="dashboard">
                            <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                        </a>
                    </li>

                    <!-- Hotel Management -->
                    <li class="nav-item mb-1">
                        <h6 class="text-white-50 text-uppercase small fw-bold mt-3 mb-2">Quản lý khách sạn</h6>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#room-types" data-section="room-types">
                            <i class="fas fa-bed me-2"></i>Loại phòng
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#rooms" data-section="rooms">
                            <i class="fas fa-door-open me-2"></i>Quản lý phòng
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#room-status" data-section="room-status">
                            <i class="fas fa-clipboard-check me-2"></i>Trạng thái phòng
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#room-map" data-section="room-map">
                            <i class="fas fa-map me-2"></i>Sơ đồ phòng
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#hotel-bookings" data-section="hotel-bookings">
                            <i class="fas fa-calendar-check me-2"></i>Booking phòng
                        </a>
                    </li>

                    <!-- Restaurant Management -->
                    <li class="nav-item mb-1">
                        <h6 class="text-white-50 text-uppercase small fw-bold mt-3 mb-2">Quản lý nhà hàng</h6>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#tables" data-section="tables">
                            <i class="fas fa-utensils me-2"></i>Quản lý bàn
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#table-map" data-section="table-map">
                            <i class="fas fa-th me-2"></i>Sơ đồ bàn
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#menu" data-section="menu">
                            <i class="fas fa-book-open me-2"></i>Quản lý menu
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#restaurant-bookings" data-section="restaurant-bookings">
                            <i class="fas fa-calendar-alt me-2"></i>Booking bàn
                        </a>
                    </li>

                    <!-- General Management -->
                    <li class="nav-item mb-1">
                        <h6 class="text-white-50 text-uppercase small fw-bold mt-3 mb-2">Quản lý chung</h6>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#staff" data-section="staff">
                            <i class="fas fa-users me-2"></i>Nhân viên
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#shifts" data-section="shifts">
                            <i class="fas fa-clock me-2"></i>Phân ca
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#feedback" data-section="feedback">
                            <i class="fas fa-comments me-2"></i>Feedback
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#reports" data-section="reports">
                            <i class="fas fa-chart-bar me-2"></i>Báo cáo
                        </a>
                    </li>
                    <li class="nav-item mb-1">
                        <a class="nav-link text-white" href="#promotions" data-section="promotions">
                            <i class="fas fa-percent me-2"></i>Khuyến mãi
                        </a>
                    </li>
                </ul>

                <div class="position-absolute bottom-0 w-100 p-3">
                    <a href="/auth/logout" class="btn btn-outline-light btn-sm w-100">
                        <i class="fas fa-sign-out-alt me-2"></i>Đăng xuất
                    </a>
                </div>
            </div>
        </nav>

        <!-- Main content -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2 fw-bold">Dashboard</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <div class="btn-group me-2">
                        <button type="button" class="btn btn-outline-secondary btn-sm">
                            <i class="fas fa-calendar me-1"></i>Hôm nay
                        </button>
                    </div>
                    <button type="button" class="btn btn-primary btn-sm">
                        <i class="fas fa-download me-1"></i>Xuất báo cáo
                    </button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard-section" class="content-section">
                <!-- Stats Cards -->
                <div class="row mb-4">
                    <div class="col-md-3 mb-3">
                        <div class="card stats-card h-100 border-0">
                            <div class="card-body text-center">
                                <i class="fas fa-bed display-4 mb-3 opacity-75"></i>
                                <h3 class="fw-bold">75%</h3>
                                <p class="card-text mb-0">Tỷ lệ lấp đầy phòng</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="card stats-card-success h-100 border-0">
                            <div class="card-body text-center">
                                <i class="fas fa-dollar-sign display-4 mb-3 opacity-75"></i>
                                <h3 class="fw-bold">125M</h3>
                                <p class="card-text mb-0">Doanh thu hôm nay</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="card stats-card-warning h-100 border-0">
                            <div class="card-body text-center">
                                <i class="fas fa-utensils display-4 mb-3 opacity-75"></i>
                                <h3 class="fw-bold">42</h3>
                                <p class="card-text mb-0">Bàn đang phục vụ</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="card stats-card-info h-100 border-0">
                            <div class="card-body text-center">
                                <i class="fas fa-star display-4 mb-3 opacity-75"></i>
                                <h3 class="fw-bold">4.8</h3>
                                <p class="card-text mb-0">Đánh giá trung bình</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-white">
                                <h5 class="card-title mb-0"><i class="fas fa-bolt me-2 text-primary"></i>Thao tác nhanh</h5>
                            </div>
                            <div class="card-body">
                                <div class="row g-3">
                                    <div class="col-md-2 col-6">
                                        <button class="btn btn-outline-primary w-100 py-3" data-section="rooms">
                                            <i class="fas fa-plus-circle fs-4 d-block mb-2"></i>
                                            <small>Thêm phòng</small>
                                        </button>
                                    </div>
                                    <div class="col-md-2 col-6">
                                        <button class="btn btn-outline-success w-100 py-3" data-section="hotel-bookings">
                                            <i class="fas fa-calendar-check fs-4 d-block mb-2"></i>
                                            <small>Xác nhận booking</small>
                                        </button>
                                    </div>
                                    <div class="col-md-2 col-6">
                                        <button class="btn btn-outline-info w-100 py-3" data-section="room-map">
                                            <i class="fas fa-map fs-4 d-block mb-2"></i>
                                            <small>Xem sơ đồ</small>
                                        </button>
                                    </div>
                                    <div class="col-md-2 col-6">
                                        <button class="btn btn-outline-warning w-100 py-3" data-section="menu">
                                            <i class="fas fa-utensils fs-4 d-block mb-2"></i>
                                            <small>Cập nhật menu</small>
                                        </button>
                                    </div>
                                    <div class="col-md-2 col-6">
                                        <button class="btn btn-outline-secondary w-100 py-3" data-section="staff">
                                            <i class="fas fa-users fs-4 d-block mb-2"></i>
                                            <small>Quản lý nhân viên</small>
                                        </button>
                                    </div>
                                    <div class="col-md-2 col-6">
                                        <button class="btn btn-outline-danger w-100 py-3" data-section="reports">
                                            <i class="fas fa-chart-line fs-4 d-block mb-2"></i>
                                            <small>Xem báo cáo</small>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="row">
                    <div class="col-md-8">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-white d-flex justify-content-between align-items-center">
                                <h5 class="card-title mb-0"><i class="fas fa-clock me-2 text-primary"></i>Hoạt động gần đây</h5>
                                <small class="text-muted">Cập nhật 2 phút trước</small>
                            </div>
                            <div class="card-body">
                                <div class="timeline">
                                    <div class="d-flex mb-3">
                                        <div class="flex-shrink-0">
                                            <div class="bg-success rounded-circle p-2" style="width: 40px; height: 40px;">
                                                <i class="fas fa-check text-white small"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Booking #BK001 đã được xác nhận</h6>
                                            <p class="text-muted small mb-1">Phòng Deluxe Suite - Khách: Nguyễn Văn A</p>
                                            <small class="text-muted">5 phút trước</small>
                                        </div>
                                    </div>
                                    <div class="d-flex mb-3">
                                        <div class="flex-shrink-0">
                                            <div class="bg-info rounded-circle p-2" style="width: 40px; height: 40px;">
                                                <i class="fas fa-utensils text-white small"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Order bàn 5 - Tổng: 850,000đ</h6>
                                            <p class="text-muted small mb-1">3 món chính, 2 món tráng miệng</p>
                                            <small class="text-muted">12 phút trước</small>
                                        </div>
                                    </div>
                                    <div class="d-flex mb-3">
                                        <div class="flex-shrink-0">
                                            <div class="bg-warning rounded-circle p-2" style="width: 40px; height: 40px;">
                                                <i class="fas fa-tools text-white small"></i>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Phòng 205 chuyển sang bảo trì</h6>
                                            <p class="text-muted small mb-1">Sửa chữa hệ thống điều hòa</p>
                                            <small class="text-muted">1 giờ trước</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-white">
                                <h5 class="card-title mb-0"><i class="fas fa-chart-pie me-2 text-primary"></i>Thống kê hôm nay</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span>Phòng đã booking</span>
                                        <span class="fw-bold">24/32</span>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-success" style="width: 75%"></div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span>Bàn đang sử dụng</span>
                                        <span class="fw-bold">18/25</span>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-warning" style="width: 72%"></div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span>Nhân viên có mặt</span>
                                        <span class="fw-bold">28/30</span>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-info" style="width: 93%"></div>
                                    </div>
                                </div>
                                <hr>
                                <div class="text-center">
                                    <h4 class="text-primary fw-bold">125,850,000₫</h4>
                                    <p class="text-muted small mb-0">Doanh thu hôm nay</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other sections (hidden by default) -->
            <div id="room-types-section" class="content-section d-none">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white d-flex justify-content-between align-items-center">
                        <h5 class="card-title mb-0"><i class="fas fa-bed me-2 text-primary"></i>Quản lý loại phòng</h5>
                        <button class="btn btn-primary btn-sm">
                            <i class="fas fa-plus me-1"></i>Thêm loại phòng
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead class="table-light">
                                <tr>
                                    <th>Tên loại phòng</th>
                                    <th>Giá/đêm</th>
                                    <th>Sức chứa</th>
                                    <th>Trạng thái</th>
                                    <th>Thao tác</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td><strong>Standard Room</strong></td>
                                    <td>1,200,000₫</td>
                                    <td>2 người</td>
                                    <td><span class="badge bg-success">Hoạt động</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Deluxe Room</strong></td>
                                    <td>2,000,000₫</td>
                                    <td>3 người</td>
                                    <td><span class="badge bg-success">Hoạt động</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Suite Room</strong></td>
                                    <td>3,500,000₫</td>
                                    <td>4 người</td>
                                    <td><span class="badge bg-success">Hoạt động</span></td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary me-1"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Welcome message for other sections -->
            <div id="rooms-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-door-open display-1 text-primary mb-4"></i>
                    <h2>Quản lý phòng</h2>
                    <p class="text-muted">Chức năng quản lý phòng sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="room-status-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-clipboard-check display-1 text-success mb-4"></i>
                    <h2>Cập nhật trạng thái phòng</h2>
                    <p class="text-muted">Chức năng cập nhật trạng thái phòng sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="room-map-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-map display-1 text-info mb-4"></i>
                    <h2>Sơ đồ phòng Real-time</h2>
                    <p class="text-muted">Sơ đồ phòng theo thời gian thực sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="hotel-bookings-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-calendar-check display-1 text-warning mb-4"></i>
                    <h2>Quản lý Booking Phòng</h2>
                    <p class="text-muted">Chức năng quản lý booking phòng sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="tables-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-utensils display-1 text-primary mb-4"></i>
                    <h2>Quản lý bàn ăn</h2>
                    <p class="text-muted">Chức năng quản lý bàn ăn sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="table-map-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-th display-1 text-info mb-4"></i>
                    <h2>Sơ đồ bàn Real-time</h2>
                    <p class="text-muted">Sơ đồ bàn theo thời gian thực sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="menu-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-book-open display-1 text-success mb-4"></i>
                    <h2>Quản lý Menu</h2>
                    <p class="text-muted">Chức năng quản lý menu sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="restaurant-bookings-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-calendar-alt display-1 text-warning mb-4"></i>
                    <h2>Quản lý Booking Bàn</h2>
                    <p class="text-muted">Chức năng quản lý booking bàn sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="staff-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-users display-1 text-primary mb-4"></i>
                    <h2>Quản lý nhân viên</h2>
                    <p class="text-muted">Chức năng quản lý nhân viên sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="shifts-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-clock display-1 text-info mb-4"></i>
                    <h2>Phân ca làm việc</h2>
                    <p class="text-muted">Chức năng phân ca làm việc sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="feedback-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-comments display-1 text-success mb-4"></i>
                    <h2>Quản lý Feedback</h2>
                    <p class="text-muted">Chức năng quản lý feedback khách hàng sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="reports-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-chart-bar display-1 text-danger mb-4"></i>
                    <h2>Báo cáo & Thống kê</h2>
                    <p class="text-muted">Chức năng báo cáo và thống kê sẽ được triển khai tại đây</p>
                </div>
            </div>

            <div id="promotions-section" class="content-section d-none">
                <div class="text-center py-5">
                    <i class="fas fa-percent display-1 text-warning mb-4"></i>
                    <h2>Quản lý khuyến mãi</h2>
                    <p class="text-muted">Chức năng quản lý khuyến mãi sẽ được triển khai tại đây</p>
                </div>
            </div>
        </main>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Navigation functionality
    document.addEventListener('DOMContentLoaded', function() {
        const navLinks = document.querySelectorAll('.nav-link[data-section], button[data-section]');
        const sections = document.querySelectorAll('.content-section');

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();

                const targetSection = this.getAttribute('data-section');

                // Remove active class from all nav links
                document.querySelectorAll('.nav-link').forEach(nav => nav.classList.remove('active'));

                // Add active class to clicked nav link (only for sidebar links)
                if (this.classList.contains('nav-link')) {
                    this.classList.add('active');
                }

                // Hide all sections
                sections.forEach(section => section.classList.add('d-none'));

                // Show target section
                const targetElement = document.getElementById(targetSection + '-section');
                if (targetElement) {
                    targetElement.classList.remove('d-none');
                }
            });
        });
    });

    // Auto refresh stats every 30 seconds
    setInterval(function() {
        // Simulate real-time updates
        const timestamp = document.querySelector('.card-header small');
        if (timestamp) {
            const now = new Date();
            timestamp.textContent = `Cập nhật ${Math.floor(Math.random() * 10) + 1} phút trước`;
        }
    }, 30000);
</script>
</body>
</html>